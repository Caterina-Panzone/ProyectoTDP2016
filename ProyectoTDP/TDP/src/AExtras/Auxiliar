DISPARO.JAVA

METODO:: AVANZAR. 

	public void avanzar(List<Disparo> disparos){

		Celda nueva = mapa.getCeldaSiguiente(celda, direccion); 
				
		if(nueva!=null){
			if(nueva.getObstaculo()!=null && nueva.getObstaculo().atraviesanDisparos()){
				auxiliar(nueva,disparos); 
			}
			else{
				if(nueva.getObstaculo()!=null){ 
					System.out.println("RECIBE GOLPE EN:: fila "+nueva.getFila()+" columna "+nueva.getColumna()); 
					nueva.getObstaculo().recibirGolpe();
					destruirse(disparos);
				}
				else{
					auxiliar(nueva,disparos); 
				}
			}
		}
		else{
			destruirse(disparos); 
		}	
	}
	
	private void auxiliar(Celda nueva, List<Disparo> disparos){
		if(nueva.getBala()==null){
			if(nueva.getTanque()!= null && getEmisor().dispareTanque(nueva.getTanque())){ 
				destruirse(disparos);
			}
			else {
				concretarMovimientoDisparo(nueva); 
			}
		}
		else{ //Colisión de dos disparos. 
			if(nueva.getTanque()!= null && getEmisor().dispareTanque(nueva.getTanque())){ 
				destruirse(disparos);
			}
			nueva.getBala().destruirse(disparos); 
			destruirse(disparos);
		}
	}